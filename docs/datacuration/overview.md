# Data Structure Overview

The HBCD dataset follows NBDC data structure standards established as part of the ABCD Study (<a href="https://docs.abcdstudy.org/latest/documentation/curation/structure.html">see details</a>), which incorporates the [Brain Imaging Data Structure (BIDS)](https://bids-specification.readthedocs.io/en/stable/) wherever possible for cross-study consistency. At a high level, data are organized into two categories:

### <i style="color: #199bd6; margin-right: 4px;" class="fa-solid fa-table"></i> Tabulated Data

Demographics (<a href="../../instruments/#demo" target="_blank">demographics & visit info</a>), study instrument (<a href="../../instruments/#behavior-biology-environment" target="_blank">behavior, biology, and environment</a>), and select [file-based data organized in standardized HBCD tabular format](#which-file-based-data-are-also-available-as-hbcd-tabulated-data) that includes all participant responses per table.

<a href="../phenotypes" target="_blank" class="inline-doc-link">View Tabulated Data Documentation →</a>

### <i style="color: #199bd6; margin-right: 4px;" class="fa-solid fa-folder-open"></i> File-Based Data

File-based data is any data that cannot be converted to the HBCD tabulated format. This includes:

<table class="table-no-vertical-lines" style="width: 100%; border-collapse: collapse; table-layout: fixed; font-size: 16px;">
  <tbody>
  <tr>
    <td><a href="../file-based-data/#raw-bids"><strong>Raw BIDS</strong></a></td>
    <td>Raw imaging, EEG, and biosensor data converted to the BIDS standard with unaltered signal content</td>
  </tr>
  <tr>
    <td><a href="../file-based-data/#derivatives"><strong>Derivatives</strong></a></td>
    <td>Processed imaging, EEG, and biosensor datasets generated by standardized pipelines</td>
  </tr>
  <tr>
    <td><a href="../file-based-data/#concatenated-data"><strong>Concatenated Data</strong></a></td>
    <td style="word-wrap: break-word; white-space: normal;">Participant-level files aggregated across all subjects for select measures, e.g. <a href="../../instruments/biospec/illumina-gda-gwas" target="_blank">Illumina GDA GWAS</a></td>
  </tr>
  </tbody>
</table>

<a href="../file-based-data" target="_blank" class="inline-doc-link">View File-Based Data Documentation →</a>

### Folder Structure

<pre class="folder-tree">
hbcd/
|__ concatenated/      <span class="hashtag"># Concatenated (file-based)</span>
|__ derivatives/       <span class="hashtag"># Derivatives (file-based)</span>
|__ rawdata/ 
    |__ phenotype/     <span class="hashtag"># Tabulated Data</span>
    |__ sub-<span class="label">{ID}</span>/      <span class="hashtag"># Raw BIDS (file-based)</span>
</pre>

<div id="filetree" class="table-banner" onclick="toggleCollapse(this)">
  <span class="emoji"><i class="fa fa-folder-tree"></i></span>
  <span class="text-with-link">
<span class="text">Detailed Folder Tree Summary <span class="hint">(Click to expand)</span></span>
  <a class="anchor-link" href="#filetree" title="Copy link">
  <i class="fa-solid fa-link"></i>
  </a>
  </span>
  <span class="arrow">▸</span>
</div>
<div class="table-collapsible-content">
<pre class="folder-tree" style="margin-top: 0;">
hbcd/
|__ concatenated/       <span class="hashtag"># Concatenated (file-based)</span>
|   |__ genetics/
|   |__ geocoding/
|   |__ study_navigator/
|
|__ derivatives/        <span class="hashtag"># Processed pipeline derivatives</span>
|   |__ bibsnet/
|   |__ bme_x/
|   |__ hbcd_motion/
|   |__ made/
|   |__ mriqc/
|   |__ nibabies/
|   |__ osprey/
|   |__ qmri_postproc/
|   |__ qsiprep/
|   |__ qsirecon/
|   |__ symri/
|   |__ xcp_d/
|
|__ rawdata/ 
    |__ phenotype/     <span class="hashtag"># Tabulated data (demographics, visit info, behavior, etc.)</span>
    |   |__ par_visit_data.*
    |   |__ sed_basic_demographics.*
    |   |__ <span class="placeholder">{instrument_name}</span>.*
    |
    |__ sub-<span class="label">{ID}</span>/      <span class="hashtag"># Raw BIDS formatted data (MRI, MRS, EEG, biosensors)</span>
    |   |__ sub-<span class="label">{ID}</span>_sessions.tsv
    |   |__ sub-<span class="label">{ID}</span>_sessions.json
    |   |__ ses-<span class="label">{V0X}</span>/
    |       |__ anat/
    |       |__ dwi/
    |       |__ eeg/
    |       |__ fmap/
    |       |__ func/
    |       |__ motion/
    |       |__ mrs/
    |       |__ sub-<span class="label">{ID}</span>_ses-<span class="label">{V0X}</span>_scans.tsv
    |       |__ sub-<span class="label">{ID}</span>_ses-<span class="label">{V0X}</span>_scans.json
    |
    |__ dataset_description.json
    |__ participants.tsv
    |__ participants.json 
</pre>
</div>


<div id="filetrees" class="table-banner" onclick="toggleCollapse(this)">
  <span class="emoji"><i class="fa fa-circle-info"></i></span>
  <span class="text-with-link">
  <span class="text">How To Read File Trees <span class="hint">(Click to expand)</span></span>
  <a class="anchor-link" href="#filetrees" title="Copy link">
  <i class="fa-solid fa-link"></i>
  </a>
  </span>
  <span class="arrow">▸</span>
</div>
<div class="table-collapsible-content">
<p><b>The following conventions are used to improve readability of file tree diagrams throughout this site:</b></p>
<ul>
<li>
<strong>Curly brackets <code>{ }</code></strong> indicate placeholders with many possible values that are not exhaustively listed.
Example: <code>sub-{ID}_ses-{V0X}</code>, <code>run-{X}</code>.
</li>

<li>
<strong>Angle brackets <code>&lt; &gt;</code></strong> indicate a defined set of all included values.
These values are either:
<ul>
<li>Listed directly inside the brackets and separated by <code>|</code>, or</li>
<li>Defined in a <b>Label Values Legend</b> below the file tree.</li>
</ul>
</li>

<li>
<strong>Sidecar JSON files</strong> may be omitted for brevity. When applicable, files with corresponding JSONs are marked with <code>(+JSON)</code>.
</li>

<li>
Some pipelines generate an <code>.html</code> visual summary report for quality assessment. These reports source images from a <code>figures/</code> directory within the derivatives folder. The contents of <code>figures/</code> are not listed for brevity.
</li>
</ul>
</div>



### Which file-based data are also available as HBCD tabulated data?
<p><strong>When possible</strong>, tabulated data tables are derived from file-based data (e.g., MRS, MRI, EEG, wearable sensor data) to provide a single file with rows across participants/sessions. Users may choose either the original file-based data or the combined tabulated version, depending on their needs.</p>
<p><strong>Not all processed data are available in tabulated form.</strong> Tabulated datasets have <em>one row per participant/session</em>, so only derivatives that can be summarized into a single row/column structure are included. If no tabulated file exists for the derivatives you need, you will need to use the file-based data.</p>
<ul>
<li><strong>Tabulated data</strong>: one row per participant/session with summary fields.</li>
<li><strong>File-based data</strong>: required for complex, multidimensional, or non-row-summarizable outputs.</li>
</ul>
<p>Note tabulated files closely mirror their source derivative file names for easy cross-reference. For example, the following subject/session-level <a href="../../instruments/mri/mri-proc/#xcpd-derivs" target="_blank">XCP-D derivatives</a> are combined into a single tabulated file:</p>
<table class="table-no-vertical-lines" style="width: 100%; border-collapse: collapse; table-layout: fixed; font-size: 15px;">
<tr>
<td><b>File-based derivatives</b></td>
<td><code>sub-{ID}_ses-{V0X}_task-rest_dir-PA_run-{X}<span style="color: teal;">_space-fsLR_seg_Gordon_stat-alff_bold</span>.tsv</code> </td>
</tr>
<tbody>
<tr>
<td><b>Tabulated file</b></td>
<td><code>img_xcpd<span style="color: teal;">_space-fsLR_seg_Gordon_stat-alff_bold</span>.tsv</code></td>
</tbody>
</table>