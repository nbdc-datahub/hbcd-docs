# MR Exclusion Criteria

## Raw Data Exclusion Criteria

Acquisition parameters vary by scanner vendor, so inclusion criteria are typically defined as acceptable <b>ranges</b> rather than fixed values. Following BIDS conversion, modality-specific criteria are extracted from BIDS sidecar JSON files and evaluated accordingly. All images are additionally checked to confirm they were acquired using a head coil.

<p style="margin-bottom: 0;"><i><b>Acquisition Parameter Ranges for Data Release Eligibility</b></i></p>
<table class="compact-table-no-vertical-lines">
  <thead>
    <tr>
      <th>Scan Type</th>
      <th>Repetition Time (TR)</th>   
      <th>Echo Time (TE)</th>        
      <th>Inversion Time (TI)</th>    
      <th>Slice Thickness</th>  
      <th>Number of Volumes</th>  
    </tr>
  </thead>
<tbody>
<tr>
  <td>T1w</td>
  <td>2.3 - 2.41</td>
    <td>0.002 - 0.0035</td>
  <td>1.06 - 1.1</td>    
    <td>0.8</td>    
    <td>NA</td>    
  </tr>
  <tr>
    <td>T2w</td>
    <td>2.5 - 4.5</td>
    <td>0.09 - 0.15</td>
    <td>0.29 - 0.33</td>    
    <td>0.563 - 0.565</td>    
    <td>NA</td>
  </tr>  
  <tr>
    <td>MRS Localizer</td>
    <td>2.5 - 4.5</td>
    <td>0.09 - 0.15</td>
    <td>0.29 - 0.33</td>    
    <td>0.563 - 0.565</td>    
    <td>NA</td>
  </tr>   
  <tr>
    <td>Diffusion</td>
    <td>4.8</td>
    <td>0.0880 - 0.0980</td>
    <td>NA</td>    
    <td>1.7</td>    
    <td>≥ 90 (AP + PA)</td>  
  </tr>  
  <tr>
    <td>EPI Fieldmap</td>
    <td>8.4 - 9.2</td>
    <td>0.064 - 0.0661</td>
    <td>2</td>    
    <td>0.563 - 0.565</td>    
    <td>NA</td>
  </tr>  
  <tr>
    <td>Functional</td>
    <td>1.725</td>
    <td>0.0369 - 0.0371</td>
    <td>NA</td>    
    <td>2</td>  
    <td>≥ 87 (~2.5 min)</td>   
  </tr>  
</tbody>
</table>

## Exclusion Criteria for Structural & Functional MRI Derivatives

Structural and functional MRI derivatives were evaluated using <strong>BrainSwipes QC</strong>, a web-based quality control tool that collects expert ratings on image quality via visual assessment of standardized reports <i>(see <a href="../qc/#brainswipes" target="_blank">MRI QC Procedures &gt; BrainSwipes</a> for details)</i>. Session data was excluded from the release based on an average BrainSwipes QC score threshold of 0.5:

 - If structural data (T1w/T2w) failed QC, then all derivatives for that session (i.e. including both structural and functional outputs) were removed from Infant fMRIPrep (including M-CRIB-S/FreeSurfer derivative folders) and XCP-D.
 - If only functional data (one or more BOLD runs) failed QC, then only functional derivatives from Infant fMRIPrep and XCP-D were removed for that session; structural derivatives were retained. This includes the `func/` and `fmap/` folders in Infant fMRIPrep and `func` folders in XCP-D.
 
#### <i style="color: #ffa500;" class="fas fa-exclamation-triangle"></i>&nbsp; Interpretation of Missing Vs. Excluded Derivatives

BrainSwipes QC is performed only on visual reports generated by <strong>XCP-D</strong>, the final stage of structural and functional MRI processing  (see <a href="../mri-proc/#structural-functional-mri-processing-overview" target="_blank">Structural & Functional MRI Processing Overview</a>). Sessions that fail earlier stages do not reach BrainSwipes and therefore will not have associated QC scores. **This means:**
<ul>
<li><strong>If BrainSwipes QC scores are present:</strong> The session successfully completed all processing stages. If derivatives are missing from the release despite available QC scores, they were <em>explicitly excluded</em> due to QC failure.</li>
<li><strong>If BrainSwipes QC scores are absent:</strong> The session likely failed during an earlier processing stage (e.g., BIBSNet or Infant fMRIPrep). In these cases, only partial derivatives may exist, and any available outputs should be interpreted with caution.</li>
</ul>
<p>Processing failures are commonly related to raw data quality issues. Users analyzing derivatives for sessions <strong>not represented in the BrainSwipes QC dataset</strong> should consider the potential for underlying data quality issues.</p> 

<p style="color: red;">LUCI ADMIN NOTE: instead of decribing here how to parse this info, we could instead consider simply providing a subject list in the private Docs site detailing which derivatives were removed for which sub/session. or have list of participant sessions with columns that indicate for each pipeline whether the data is present and if not why (eg something like - "Infant fMRIPrep Derivatives Produced" (yes/no) to track processing failures and  "Infant fMRIPrep Derivatives Removed" (NA, all, func-only) to track excluded data)</p>
